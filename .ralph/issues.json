{
  "project": "emerson",
  "version": "0.1.0",
  "created": "2025-01-17",
  "issues": [
    {
      "id": "001",
      "title": "Settings: API key validation displays success state",
      "status": "complete",
      "priority": 1,
      "spec": "When user enters a valid OpenRouter API key and clicks Save, the system should validate the key via the OpenRouter auth endpoint and display a success message with a checkmark icon.",
      "test_file": "tests/settings.spec.ts",
      "test_name": "validates and saves valid API key",
      "relevant_files": [
        "src/components/SettingsView.tsx",
        "src/lib/openrouter.ts",
        "src/store/index.ts"
      ],
      "depends_on": [],
      "attempts": 5,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "002",
      "title": "Settings: API key validation displays error state",
      "status": "complete",
      "priority": 1,
      "spec": "When user enters an invalid OpenRouter API key and clicks Save, the system should display an error message indicating the key is invalid.",
      "test_file": "tests/settings.spec.ts",
      "test_name": "shows error for invalid API key",
      "relevant_files": [
        "src/components/SettingsView.tsx"
      ],
      "depends_on": [
        "001"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "003",
      "title": "Settings: API key persists across reload",
      "status": "complete",
      "priority": 1,
      "spec": "After saving a valid API key, it should persist in localStorage and be restored when the page is reloaded.",
      "test_file": "tests/settings.spec.ts",
      "test_name": "persists API key across page reload",
      "relevant_files": [
        "src/components/SettingsView.tsx",
        "src/store/index.ts"
      ],
      "depends_on": [
        "001"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "004",
      "title": "Dashboard: Empty state displays correctly",
      "status": "complete",
      "priority": 1,
      "spec": "When there are no projects, the dashboard should display an empty state with a message and a button to create a new project.",
      "test_file": "tests/dashboard.spec.ts",
      "test_name": "shows empty state when no projects",
      "relevant_files": [
        "src/components/DashboardView.tsx"
      ],
      "depends_on": [],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "005",
      "title": "Dashboard: API key warning shows when not configured",
      "status": "complete",
      "priority": 1,
      "spec": "When no API key is configured, the dashboard should display a warning banner prompting the user to add their key.",
      "test_file": "tests/dashboard.spec.ts",
      "test_name": "shows API key warning when not configured",
      "relevant_files": [
        "src/components/DashboardView.tsx",
        "src/store/index.ts"
      ],
      "depends_on": [
        "004"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "006",
      "title": "Dashboard: New Project button triggers ingestion",
      "status": "complete",
      "priority": 2,
      "spec": "Clicking the New Project button should navigate to the ingestion flow, showing the welcome screen with options for 'I have files' and 'Starting fresh'.",
      "test_file": "tests/dashboard.spec.ts",
      "test_name": "new project button triggers ingestion flow",
      "relevant_files": [
        "src/App.tsx",
        "src/components/DashboardView.tsx",
        "src/components/IngestionView.tsx"
      ],
      "depends_on": [
        "004"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "007",
      "title": "Ingestion: Starting fresh flow works",
      "status": "complete",
      "priority": 2,
      "spec": "Clicking 'Starting fresh' should skip file upload and go directly to project naming. Entering a name and clicking Create should create the project and navigate to Structure view.",
      "test_file": "tests/ingestion.spec.ts",
      "test_name": "can create project from scratch",
      "relevant_files": [
        "src/components/IngestionView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "006"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "008",
      "title": "Sidebar: Navigation between views works",
      "status": "complete",
      "priority": 1,
      "spec": "Clicking sidebar items should navigate to the corresponding view. Dashboard and Settings should always be accessible.",
      "test_file": "tests/dashboard.spec.ts",
      "test_name": "sidebar navigation works",
      "relevant_files": [
        "src/components/Sidebar.tsx",
        "src/App.tsx",
        "src/store/index.ts"
      ],
      "depends_on": [],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "009",
      "title": "Sidebar: Collapse and expand works",
      "status": "complete",
      "priority": 2,
      "spec": "Clicking the chevron button should collapse the sidebar, hiding the text labels. Clicking again should expand it.",
      "test_file": "tests/dashboard.spec.ts",
      "test_name": "sidebar can collapse and expand",
      "relevant_files": [
        "src/components/Sidebar.tsx",
        "src/store/index.ts"
      ],
      "depends_on": [
        "008"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "010",
      "title": "Structure: Empty state with create prompt",
      "status": "complete",
      "priority": 2,
      "spec": "When a project has no chapters, the Structure view should show an empty state with 'No outline yet' message and an 'Add Chapter' button.",
      "test_file": "tests/structure.spec.ts",
      "test_name": "shows empty state with prompt to create outline",
      "relevant_files": [
        "src/components/StructureView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "007"
      ],
      "attempts": 2,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "011",
      "title": "Structure: Create new chapter",
      "status": "complete",
      "priority": 2,
      "spec": "Clicking 'Add Chapter' should create a new chapter with number and editable title input. The chapter should be saved to IndexedDB.",
      "test_file": "tests/structure.spec.ts",
      "test_name": "can create a new chapter",
      "relevant_files": [
        "src/components/StructureView.tsx",
        "src/lib/db.ts",
        "src/types/index.ts"
      ],
      "depends_on": [
        "010"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "012",
      "title": "Structure: Add scene to chapter",
      "status": "complete",
      "priority": 2,
      "spec": "Each chapter should have an 'Add Scene' button. Clicking it creates a new scene under that chapter with status 'planned'.",
      "test_file": "tests/structure.spec.ts",
      "test_name": "can add scene to chapter",
      "relevant_files": [
        "src/components/StructureView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "011"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "013",
      "title": "Structure: Display scene status badges",
      "status": "complete",
      "priority": 2,
      "spec": "Each scene should display a colored badge showing its status: Planned, Beat, Drafted, Revised, or Complete.",
      "test_file": "tests/structure.spec.ts",
      "test_name": "displays scene status badges",
      "relevant_files": [
        "src/components/StructureView.tsx"
      ],
      "depends_on": [
        "012"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "014",
      "title": "Structure: Edit chapter title",
      "status": "complete",
      "priority": 2,
      "spec": "Chapter titles should be editable inline. Changes persist to IndexedDB on blur.",
      "test_file": "tests/structure.spec.ts",
      "test_name": "can edit chapter title",
      "relevant_files": [
        "src/components/StructureView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "011"
      ],
      "attempts": 2,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "015",
      "title": "Structure: Persist across reload",
      "status": "complete",
      "priority": 2,
      "spec": "Chapters and scenes should persist in IndexedDB and restore on page reload.",
      "test_file": "tests/structure.spec.ts",
      "test_name": "persists structure across page reload",
      "relevant_files": [
        "src/components/StructureView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "011"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "020",
      "title": "Codex: Show entry type tabs",
      "status": "complete",
      "priority": 2,
      "spec": "The Codex view should have tabs for Characters, Locations, Items, and Concepts.",
      "test_file": "tests/codex.spec.ts",
      "test_name": "shows tabs for different entry types",
      "relevant_files": [
        "src/components/CodexView.tsx"
      ],
      "depends_on": [
        "007"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "021",
      "title": "Codex: Empty state per type",
      "status": "complete",
      "priority": 2,
      "spec": "When a type has no entries, show 'No characters yet' with an 'Add Character' button.",
      "test_file": "tests/codex.spec.ts",
      "test_name": "shows empty state when no entries",
      "relevant_files": [
        "src/components/CodexView.tsx"
      ],
      "depends_on": [
        "020"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "022",
      "title": "Codex: Create character",
      "status": "complete",
      "priority": 2,
      "spec": "Clicking 'Add Character' opens a form with Name and Description fields. Saving creates the entry in IndexedDB.",
      "test_file": "tests/codex.spec.ts",
      "test_name": "can create a new character",
      "relevant_files": [
        "src/components/CodexView.tsx",
        "src/lib/db.ts",
        "src/types/index.ts"
      ],
      "depends_on": [
        "021"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "023",
      "title": "Codex: Create location",
      "status": "complete",
      "priority": 2,
      "spec": "The Locations tab should have an 'Add Location' button that creates location entries.",
      "test_file": "tests/codex.spec.ts",
      "test_name": "can create a new location",
      "relevant_files": [
        "src/components/CodexView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "020"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "024",
      "title": "Codex: Search and filter",
      "status": "complete",
      "priority": 3,
      "spec": "A search input should filter entries by name.",
      "test_file": "tests/codex.spec.ts",
      "test_name": "can search/filter entries",
      "relevant_files": [
        "src/components/CodexView.tsx"
      ],
      "depends_on": [
        "022"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "025",
      "title": "Codex: Edit entry",
      "status": "complete",
      "priority": 2,
      "spec": "Clicking an entry opens detail view. Edit button makes fields editable. Save persists changes.",
      "test_file": "tests/codex.spec.ts",
      "test_name": "can edit existing entry",
      "relevant_files": [
        "src/components/CodexView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "022"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "030",
      "title": "Write: Show scene selector",
      "status": "complete",
      "priority": 2,
      "spec": "The Write view displays chapters and scenes, allowing selection of which scene to write.",
      "test_file": "tests/write.spec.ts",
      "test_name": "shows scene selector",
      "relevant_files": [
        "src/components/WriteView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "012"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "031",
      "title": "Write: Select scene opens editor",
      "status": "complete",
      "priority": 2,
      "spec": "Clicking a scene opens the editor panel and context panel.",
      "test_file": "tests/write.spec.ts",
      "test_name": "can select a scene to write",
      "relevant_files": [
        "src/components/WriteView.tsx"
      ],
      "depends_on": [
        "030"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "032",
      "title": "Write: Context panel displays info",
      "status": "complete",
      "priority": 2,
      "spec": "Context panel shows Characters, Location, and Previous Scene summary sections.",
      "test_file": "tests/write.spec.ts",
      "test_name": "shows context panel with relevant info",
      "relevant_files": [
        "src/components/WriteView.tsx"
      ],
      "depends_on": [
        "031"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "033",
      "title": "Write: Manual prose editing",
      "status": "complete",
      "priority": 2,
      "spec": "The prose editor allows manual typing and editing of scene content.",
      "test_file": "tests/write.spec.ts",
      "test_name": "can manually edit generated prose",
      "relevant_files": [
        "src/components/WriteView.tsx"
      ],
      "depends_on": [
        "031"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "034",
      "title": "Write: Live word count",
      "status": "complete",
      "priority": 3,
      "spec": "Display live word count below editor that updates as user types.",
      "test_file": "tests/write.spec.ts",
      "test_name": "shows word count while writing",
      "relevant_files": [
        "src/components/WriteView.tsx"
      ],
      "depends_on": [
        "033"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "035",
      "title": "Write: Save scene content",
      "status": "complete",
      "priority": 2,
      "spec": "Save button persists prose to IndexedDB. Shows confirmation. Survives reload.",
      "test_file": "tests/write.spec.ts",
      "test_name": "can save scene content",
      "relevant_files": [
        "src/components/WriteView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "033"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "036",
      "title": "Write: Mark scene complete",
      "status": "complete",
      "priority": 2,
      "spec": "Mark Complete button changes scene status to 'complete' and updates badge.",
      "test_file": "tests/write.spec.ts",
      "test_name": "can mark scene as complete",
      "relevant_files": [
        "src/components/WriteView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "035"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "040",
      "title": "Analyze: Show analysis tabs",
      "status": "complete",
      "priority": 3,
      "spec": "Analysis view has tabs for Continuity, Foreshadowing, and Issues.",
      "test_file": "tests/analyze.spec.ts",
      "test_name": "shows analysis tabs",
      "relevant_files": [
        "src/components/AnalyzeView.tsx"
      ],
      "depends_on": [
        "007"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "041",
      "title": "Analyze: Empty state message",
      "status": "complete",
      "priority": 3,
      "spec": "When no content exists, show 'No content to analyze' with prompt to write scenes.",
      "test_file": "tests/analyze.spec.ts",
      "test_name": "shows empty state when no content to analyze",
      "relevant_files": [
        "src/components/AnalyzeView.tsx"
      ],
      "depends_on": [
        "040"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "042",
      "title": "Analyze: Foreshadowing tracker UI",
      "status": "complete",
      "priority": 3,
      "spec": "Foreshadowing tab shows Setups and Payoffs sections.",
      "test_file": "tests/analyze.spec.ts",
      "test_name": "shows foreshadowing tracker",
      "relevant_files": [
        "src/components/AnalyzeView.tsx"
      ],
      "depends_on": [
        "040"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "043",
      "title": "Analyze: Add foreshadowing setup",
      "status": "complete",
      "priority": 3,
      "spec": "Add Setup button records foreshadowing element. Shows as 'Planted' status.",
      "test_file": "tests/analyze.spec.ts",
      "test_name": "can manually add foreshadowing setup",
      "relevant_files": [
        "src/components/AnalyzeView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "042"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    },
    {
      "id": "044",
      "title": "Analyze: Issues panel",
      "status": "complete",
      "priority": 3,
      "spec": "Issues tab shows Blocking and Warnings sections.",
      "test_file": "tests/analyze.spec.ts",
      "test_name": "shows issues panel with blocking and warnings",
      "relevant_files": [
        "src/components/AnalyzeView.tsx",
        "src/lib/db.ts"
      ],
      "depends_on": [
        "040"
      ],
      "attempts": 1,
      "max_attempts": 5,
      "last_error": null
    }
  ]
}
